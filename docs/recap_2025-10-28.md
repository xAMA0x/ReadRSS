# Récapitulatif des modifications — 2025-10-28

Ce document résume l’ensemble des corrections et améliorations réalisées ce soir.

## Correctifs critiques

- Correction d’un crash lors de l’affichage des aperçus d’articles (UTF-8):
  - Problème: la troncature du texte utilisait des indices d’octets, provoquant un panic sur les caractères accentués/emoji (« byte index … is not a char boundary »).
  - Solution: troncature Unicode-safe via `.chars()` avec ellipse, dans `rss-gui/src/app.rs`.

-- WebView (wry + tao): la tentative d’intégration a été abandonnée en raison de soucis de compatibilité Linux persistants (fenêtre blanche). Décision: suppression complète de la fonctionnalité et des dépendances; retour au comportement simple « ouvrir dans le navigateur ».

## Améliorations UX / stabilité

- Police/emoji: le chargement via fontconfig (Noto Color Emoji / Noto Sans Symbols2 / DejaVu Sans) est conservé; les logs confirment les polices trouvées.
- La fenêtre WebView n’est plus forcée « always-on-top » et affiche des bordures système pour limiter les soucis d’empilement.

### Fonctionnalités UI ajoutées/précisées

- Vue agrégée « Tous »: affiche les articles de l’ensemble des flux, avec labels de source colorés pour la lisibilité.
- Boutons de rafraîchissement:
  - « Refresh » au niveau d’un flux (rafraîchit un seul flux)
  - « Refresh all » global (rafraîchit tous les flux)
- Onglet « Discover »: catégories de flux recommandés et action « Suivre » rapide.
- Barre de recherche (latérale): recherche par titre d’article avec filtrage en direct.
- Cartes d’articles: correctif de hauteur du premier card et meilleure lisibilité (métadonnées auteur/catégorie/date, état lu/non-lu).

## Dépendances / build

- Suppression de `wry` et `tao`, et de la feature `webview`. Plus de dépendances WebKitGTK nécessaires.
 - Le README a été mis à jour en conséquence.

## Points à vérifier côté utilisateur

- La lecture complète d’un article s’effectue via le bouton « Ouvrir dans le navigateur » (navigateur par défaut du système).

## Suivis/Idées futures

- Ajouter un bouton « Test WebView (HTML simple) » pour diagnostiquer localement le rendu.
- Ajout d’un toggle DevTools (wry) et navigation back/forward.
- Eventuelle intégration d’un mode Wayland explicite si disponible.
